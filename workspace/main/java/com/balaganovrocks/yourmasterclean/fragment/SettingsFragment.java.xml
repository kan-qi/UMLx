<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="0.9.5" language="Java" filename="D:\AndroidAnalysis\Instrumentation-apps\superCleanMaster\app\src\main\java\com\balaganovrocks\yourmasterclean\fragment\SettingsFragment.java"><package>package <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>fragment</name></name>;</package>

<import>import <name><name>android</name><operator>.</operator><name>app</name><operator>.</operator><name>Activity</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>content</name><operator>.</operator><name>Intent</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>graphics</name><operator>.</operator><name>BitmapFactory</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>net</name><operator>.</operator><name>Uri</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>os</name><operator>.</operator><name>Bundle</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>preference</name><operator>.</operator><name>Preference</name></name>;</import>
<import>import <name><name>android</name><operator>.</operator><name>preference</name><operator>.</operator><name>PreferenceFragment</name></name>;</import>

<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>base</name><operator>.</operator><name>FragmentContainerActivity</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>ui</name><operator>.</operator><name>AboutActivity</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>socialize</name><operator>.</operator><name>bean</name><operator>.</operator><name>RequestType</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>socialize</name><operator>.</operator><name>controller</name><operator>.</operator><name>UMServiceFactory</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>socialize</name><operator>.</operator><name>controller</name><operator>.</operator><name>UMSocialService</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>socialize</name><operator>.</operator><name>weixin</name><operator>.</operator><name>controller</name><operator>.</operator><name>UMWXHandler</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>update</name><operator>.</operator><name>UmengUpdateAgent</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>update</name><operator>.</operator><name>UmengUpdateListener</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>umeng</name><operator>.</operator><name>update</name><operator>.</operator><name>UpdateResponse</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>R</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>base</name><operator>.</operator><name>FragmentContainerActivity</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>ui</name><operator>.</operator><name>AboutActivity</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>utils</name><operator>.</operator><name>AppUtil</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>utils</name><operator>.</operator><name>T</name></name>;</import>
<import>import <name><name>com</name><operator>.</operator><name>balaganovrocks</name><operator>.</operator><name>yourmasterclean</name><operator>.</operator><name>utils</name><operator>.</operator><name>Utils</name></name>;</import>


<class><specifier>public</specifier> class <name>SettingsFragment</name>  <block>{


<comment type="line">//   public static void launch(Activity from) {</comment>
<comment type="line">//       FragmentContainerActivity.launch(from, SettingsFragment.class, null);</comment>
<comment type="line">//   }</comment>

<comment type="line">//   private Preference createShortCut;</comment>
<comment type="line">//   private Preference pVersion;</comment>
<comment type="line">//   private Preference pVersionDetail;</comment>
<comment type="line">//   private Preference pGithub;// Github</comment>
<comment type="line">//   private Preference pGrade;// Github</comment>
<comment type="line">//   private Preference pShare;// Github</comment>
<comment type="line">//   private Preference pAbout;// Github</comment>
<comment type="line">//   @Override</comment>
<comment type="line">//   public void onCreate(Bundle savedInstanceState) {</comment>
<comment type="line">//       super.onCreate(savedInstanceState);</comment>


<comment type="line">//   }</comment>

<comment type="line">//   @Override</comment>
<comment type="line">//   public void onActivityCreated(Bundle savedInstanceState) {</comment>
<comment type="line">//       super.onActivityCreated(savedInstanceState);</comment>
<comment type="line">//       addPreferencesFromResource(R.xml.ui_settings);</comment>
<comment type="line">//       getActivity().getActionBar().setDisplayHomeAsUpEnabled(true);</comment>
<comment type="line">//       getActivity().getActionBar().setDisplayShowHomeEnabled(false);</comment>
<comment type="line">//      // getActivity().getActionBar().setTitle(R.string.title_settings);</comment>

<comment type="line">//       createShortCut = findPreference("createShortCut");</comment>
<comment type="line">//       createShortCut.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       pVersion = findPreference("pVersion");</comment>
<comment type="line">//       pVersion.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       pVersionDetail = findPreference("pVersionDetail");</comment>
<comment type="line">//       pVersionDetail.setSummary("Ð¢ÐµÐºÑÑÐ°Ñ Ð²ÐµÑÑÐ¸Ñï¼" + AppUtil.getVersion(getActivity()));</comment>
<comment type="line">//       pVersionDetail.setOnPreferenceClickListener(this);</comment>

<comment type="line">//       pGithub = findPreference("pGithub");</comment>
<comment type="line">//       pGithub.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       pGrade = findPreference("pGrade");</comment>
<comment type="line">//       pGrade.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       pShare = findPreference("pShare");</comment>
<comment type="line">//       pShare.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       pAbout = findPreference("pAbout");</comment>
<comment type="line">//       pAbout.setOnPreferenceClickListener(this);</comment>
<comment type="line">//       initData();</comment>
<comment type="line">//   }</comment>


<comment type="line">//   @Override</comment>
<comment type="line">//   public boolean onPreferenceClick(Preference preference) {</comment>
<comment type="line">//       if ("createShortCut".equals(preference.getKey())) {</comment>
<comment type="line">//           createShortCut();</comment>
<comment type="line">//       } else if ("pVersion".equals(preference.getKey())) {</comment>
<comment type="line">//           UmengUpdateAgent.forceUpdate(getActivity());</comment>
<comment type="line">//           UmengUpdateAgent.setUpdateListener(new UmengUpdateListener() {</comment>
<comment type="line">//               @Override</comment>
<comment type="line">//               public void onUpdateReturned(int i, UpdateResponse updateResponse) {</comment>
<comment type="line">//                   if (i != 0) {</comment>
<comment type="line">//                       T.showLong(getActivity(), "Ð¢ÐµÐºÑÑÐ°Ñ Ð²ÐµÑÑÐ¸Ñ - Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð²ÐµÑÑÐ¸Ñ!");</comment>
<comment type="line">//                   }</comment>

<comment type="line">//               }</comment>
<comment type="line">//           });</comment>
<comment type="line">//       } else if ("pVersionDetail".equals(preference.getKey())) {</comment>
<comment type="line">//           VersionFragment.launch(getActivity());</comment>
<comment type="line">//       } else if ("pGithub".equals(preference.getKey())) {</comment>

<comment type="line">//       }else if ("pGrade".equals(preference.getKey())) {</comment>
<comment type="line">//           startMarket();</comment>
<comment type="line">//       }else if ("pShare".equals(preference.getKey())) {</comment>
<comment type="line">//               shareMyApp();</comment>
<comment type="line">//       }</comment>
<comment type="line">//       else if ("pAbout".equals(preference.getKey())) {</comment>
<comment type="line">//           getActivity().startActivity(new Intent(getActivity(), AboutActivity.class));</comment>
<comment type="line">//       }</comment>
<comment type="line">//       return false;</comment>
<comment type="line">//   }</comment>

<comment type="line">//   private void shareMyApp() {</comment>

<comment type="line">//       UMSocialService mController = UMServiceFactory.getUMSocialService("com.umeng.share", RequestType.SOCIAL);</comment>
<comment type="line">//       mController.setShareContent("ÐÑÐ¸ÑÑÐºÐ° Ð¾Ð´Ð½Ð¸Ð¼ ÑÐµÐ»ÑÐºÐ¾Ð¼ Ð¼ÑÑÐ¸ (Ð²ÐµÑÑÐ¸Ñ Ñ Ð¾ÑÐºÑÑÑÑÐ¼ Ð¸ÑÑÐ¾Ð´Ð½ÑÐ¼ ÐºÐ¾Ð´Ð¾Ð¼)" +</comment>
<comment type="line">//               " Ð¾Ð´Ð½Ð¸Ð¼ ÑÐµÐ»ÑÐºÐ¾Ð¼ Ð¼ÑÑÐ¸, ÑÑÐ¾Ð±Ñ Ð¾ÑÐ¸ÑÑÐ¸ÑÑ ÑÐµÐ»ÐµÑÐ¾Ð½, Ð´ÐµÐ¹ÑÑÐ²Ð¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ¾ÑÐ¾ÑÐ¾, Ñ ÑÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÑ Ð²Ð°Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ!.");</comment>
<comment type="line">//       mController.openShare(getActivity(), false);</comment>

<comment type="line">//   }</comment>

<comment type="line">//   private void initData() {</comment>
<comment type="line">//       String appID = "wxa263da737a20300e";</comment>
<comment type="line">//       String appSecret = "381a2fab6466410c674afaa40c77c953";</comment>
<comment type="line">/// æ·»å å¾®ä¿¡å¹³å°</comment>
<comment type="line">//       UMWXHandler wxHandler = new UMWXHandler(getActivity(),appID,appSecret);</comment>
<comment type="line">//       wxHandler.addToSocialSDK();</comment>
<comment type="line">/// æ·»å å¾®ä¿¡æåå</comment>
<comment type="line">//       UMWXHandler wxCircleHandler = new UMWXHandler(getActivity(),appID,appSecret);</comment>
<comment type="line">//       wxCircleHandler.setToCircle(true);</comment>
<comment type="line">//       wxCircleHandler.addToSocialSDK();</comment>



<comment type="line">//   }</comment>


<comment type="line">//   private void createShortCut() {</comment>
<comment type="line">//       // TODO Auto-generated method stub</comment>
<comment type="line">//       Intent intent = new Intent();</comment>
<comment type="line">//       intent.setAction("com.android.launcher.action.INSTALL_SHORTCUT");</comment>
<comment type="line">//       intent.putExtra(Intent.EXTRA_SHORTCUT_NAME, "ÐÐ´Ð½Ð¾ÐºÑÐ°ÑÐ½Ð¾Ðµ ÑÑÐºÐ¾ÑÐµÐ½Ð¸Ðµ");</comment>
<comment type="line">//       intent.putExtra("duplicate", false);</comment>
<comment type="line">//       intent.putExtra(Intent.EXTRA_SHORTCUT_ICON, BitmapFactory.decodeResource(getResources(), R.drawable.short_cut_icon));</comment>
<comment type="line">//       Intent i = new Intent();</comment>
<comment type="line">//       i.setAction("com.balaganovrocks.shortcut");</comment>
<comment type="line">//       i.addCategory("android.intent.category.DEFAULT");</comment>
<comment type="line">//       intent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, i);</comment>
<comment type="line">//       getActivity().sendBroadcast(intent);</comment>
<comment type="line">//       T.showLong(getActivity(),</comment>
<comment type="line">//               "ÐÑÐ» ÑÐ¾Ð·Ð´Ð°Ð½ Ð·Ð½Ð°ÑÐ¾Ðº ÑÑÐ»ÑÐºÐ° Â«ÐÐ´Ð½Ð¾ÐºÑÐ°ÑÐ½Ð¾Ðµ ÑÑÐºÐ¾ÑÐµÐ½Ð¸ÐµÂ»");</comment>

<comment type="line">//   }</comment>


<comment type="line">//   public  void startMarket() {</comment>
<comment type="line">//       Uri uri = Uri.parse(String.format("market://details?id=%s", AppUtil.getPackageInfo(getActivity()).packageName));</comment>
<comment type="line">//       if (Utils.isIntentSafe(getActivity(), uri)) {</comment>
<comment type="line">//           Intent intent = new Intent(Intent.ACTION_VIEW, uri);</comment>
<comment type="line">//           intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</comment>
<comment type="line">//           getActivity().startActivity(intent);</comment>
<comment type="line">//       }</comment>
<comment type="line">//       // æ²¡æå®è£å¸åº</comment>
<comment type="line">//       else {</comment>
<comment type="line">//           T.showLong(getActivity(),"ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¾ÑÐºÑÑÑÑ ÑÑÐ½Ð¾Ðº Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹");</comment>

<comment type="line">//       }</comment>
<comment type="line">//   }</comment>
}</block></class>
</unit>
