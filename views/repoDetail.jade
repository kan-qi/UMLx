-var repoID = repoInfo._id
-var path = repoInfo.AccessDir;
script.
    function c(keywords) {
        document.getElementById('modelInput').style.display = "none";
        document.getElementById('modelSelect').style.display = "inline";
        var x = new XMLHttpRequest()
        var url = "http://0.0.0.0:8081/sem/"
        url+=keywords;
        x.open('get', url)
        x.send()
        x.onreadystatechange = function () {
            if (x.readyState == 4) {
                if (x.state = 200) {
                    var data = JSON.parse(x.responseText)
                    var selector = document.getElementById('modelSelect');
                    var innerStr = "";
                    for (var i = 0; i < data.express.length; i++) {
                        innerStr += "<option value=" + data.express[i]._id + ">" + data.express[i].model_name + "</option>"
                    }
                    selector.innerHTML = innerStr
                    b(data.express[0]._id)
                }
            }
        }
    }
    function getKeywors(e)
    {
        var e = e || window.event;
        if (e.keyCode == 13) {
            var keywords=document.getElementById('modelInput').value
            console.log("value:" +keywords )
            c(keywords)
        }
    }
    function changeSymbol(currentSymbol){
    if(document.getElementById(currentSymbol).className=='glyphicon glyphicon-triangle-bottom')
    document.getElementById(currentSymbol).className='glyphicon glyphicon-triangle-left'
    else
     document.getElementById(currentSymbol).className='glyphicon glyphicon-triangle-bottom'
    }

    function b(value) {
        var x = new XMLHttpRequest()
        var url = 'http://0.0.0.0:8081/qem/';
        url += value
        x.open('get', url)
        x.send()//document.getElementById('sec-2').style.display = "none";
        
        x.onreadystatechange = function () {
            if (x.readyState == 4) {
                if (x.state = 200) {
                    var data = JSON.parse(x.responseText)
                    var innerPart = document.getElementById('sec-1');
                    var innerParameter=document.getElementById('sec-2');
                    var innergoodness=document.getElementById('sec-3');
                    var innerbs=document.getElementById('sec-5');
                    var first="";
                    var forms=new Array("","","","");
                    var innerst="";
                    for(var i=0;i<4;i++){
                      forms[i]+="<div class='panel_triangle_toggle'><a data-toggle='collapse' href='#collapse"+i+"'>";
                      forms[i]+="<span class='glyphicon glyphicon-triangle-left' id='sec"+i+"hide' onclick='changeSymbol(this.id)'></span></a></div></h4></div>";
                      forms[i]+="<div class='panel-collapse collapse' id='collapse"+i+"'>";
                      forms[i]+="<div class='panel-body'>"
                    }
                    
                    innerst="<div class='panel-group'>";//basic info
                    innerst+="<div class='panel panel-default'>";
                    innerst+="<div class='panel-heading'>";
                    innerst+="<h4 class='panel-title'>";
                    
                    first=innerst;
                    innerst+="<div class='panel_words'>Basic Information</div>";  
                    innerst+=forms[0];

                   innerst+="<div class='form-group'>"
                   innerst+="<label class='contral-lable' for='dataset_name'>Dataset Name:</label>"
                   innerst+="<p id='dataset_name' class='form-control'>" +data.express[0].dataset_name+"</p></div>"
                   innerst+="<div class='form-group'>"
                   innerst+="<label class='contral-lable' for='model_name'>Model Name:</label>"
                   innerst+="<p id='model_name' class='form-control'>" +data.express[0].model_name+"</p></div>"
                   innerst+="<div class='form-group'>"
                   innerst+="<label class='contral-lable' for='model_path'>Model Path:</label>"
                   innerst+="<p id='model_path' class='form-control'>" +data.express[0].model_path+"</p></div>"
                   innerst+="<div class='form-group'>"
                   innerst+="<label class='contral-lable' for='Date_created'>Date Created:</label>"
                   innerst+="<p id='Date_created' class='form-control'>" +data.express[0].Date_created+"</p></div></div></div></div></div>"
                    
                    innerPart.innerHTML = innerst;
    

                    innerst=first;
                    innerst+="<div class='panel_words'>Accuracy Metrics</div>";
                    innerst+=forms[1];

                    for(var p in data.express[0].cvResults.accuracy_metrics)
                    {
                      innerst+="<div class='form-group'><label class='contral-lable' for='"+p+"'>"+p+":</label><p id='"+p+"' class='form-control'>" +data.express[0].cvResults.accuracy_metrics[p]+"</p></div>"
                    }
                    innerst+="</div></div></div></div>"
                    innerParameter.innerHTML=innerst


                    innerst=first;
                    innerst+="<div class='panel_words'>Goodness Fit Metrics</div>";
                    innerst+=forms[2];

                    for(var p in data.express[0].cvResults.goodness_fit_metrics)
                    {
                      innerst+="<div class='form-group'><label class='contral-lable' for='"+p+"'>"+p+":</label><p id='"+p+"' class='form-control'>" +data.express[0].cvResults.goodness_fit_metrics[p]+"</p></div>"
                    }
                    innerst+="</div></div></div></div>"
                    innergoodness.innerHTML=innerst

                    innerst=first;
                    innerst+="<div class='panel_words'>BSEstimations</div>";
                    innerst+=forms[3];

                    for(var p in data.express[0].bsEstimations)
                    {
                      innerst+="<div class='form-group'><label class='contral-lable' for='"+p+"'>"+p+"</label><p id='"+p+"' class='form-control'>" +data.express[0].bsEstimations[p]+"</p></div>"
                    }
                    innerst+="</div></div></div></div>"
                    innerbs.innerHTML=innerst

                }
            }
        }
    }

input(type='hidden', value=repoID)#myrepoId
div.block.panel.panel-default
  div.panel-body(id="repo-stats-chart")
   div.repo-info-content
    div.tab-content
      div.tab-pane.fade.in.active(id="main_page" style = "width: 100%; padding : 0; margin-top: -60px")
        div.form-container
          form#project-effort-prediction-form.form-horizontal.form(novalidate='', onsubmit='return predict_project_effort_func()', method='post', action='/')
            // file browser
            div.input-group
                input.form-control.form-blank(type='text',readonly)
                label.input-group-btn()
                    span.btn.btn-dark.btn-submit Browse
                        input#uml_file(type="file", style="display: none;", name='uml_file', accept='text/xml, .apk', role = "button" )
            button.btn.btn-dark.btn-submit(type="button", data-toggle="modal", data-target="#exampleModalCenter" style = "color: white; margin-left: 30px; margin-right: 10px") Estimator
            // Estimator Modal
            #exampleModalCenter.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true', )
              .modal-dialog.modal-dialog-centered(role='document', style="margin-top : 5%;" )
                .modal-content
                  .modal-header
                    //- h2#exampleModalLongTitle.modal-title.text-center Choose the parameters 
                    #sec-4(style = "margin-top: 10px; margin-bottom: -20px")
                      .panel-group
                          .panel.panel-default(style = "text-align : center")
                            div(style  = "display: inline-block; font-size: 16px") Select Estimator
                              //-         div.panel_triangle_toggle
                              //-             a(data-toggle='collapse', href='#collapse3')
                              //-                 //span.if-collapsed.glyphicon.glyphicon-triangle-bottom.collapseButtom
                              //-                 span.glyphicon.glyphicon-triangle-left.collapseButtom3
                              //- #collapse3.panel-collapse()
                            .form-group(style = "margin-bottom: 0px; display: inline-block; vertical-align: middle !important; padding:10px")
                                .panel-body(style = "padding: 0px;")
                                    div(id="model-query-box" style = "margin-left: 30%;")
                                        div.row-item(id='model-selector-box')
                                          div.autocomplete(style="width:150px;")
                                             input#modelInput.estimation-form-control.form-control(type="text", name='model', placeholder="Estimator",onkeydown="getKeywors()",style="display:inline")
                                          select#modelSelect.estimation-form-control.form-control(name='model',style="display:none" onchange="b(this.value)")
                                              //option#estimator1(value="eucp_lm") EUCP
                                              //option#estimator2(value="exucp_lm") EXUCP
                                              //option#estimator3(value="ducp_lm") DUCP
                  
                    //- button.close(type='button', data-dismiss='modal', aria-label='Close')
                    //-   span(aria-hidden='true') Ã—
                  .modal-body(style = "height: 400px; overflow-y: auto;")
                    #sec-1
                      .panel-group
                          .panel.panel-default
                              .panel-heading
                                h4.panel-title
                                    div.panel_words Technical Complexity Factor
                                    div.panel_triangle_toggle
                                        a(data-toggle='collapse', href='#collapse1')
                                            //span.if-collapsed.glyphicon.glyphicon-triangle-bottom.collapseButtom
                                            span.glyphicon.glyphicon-triangle-left.collapseButtom1
                              #collapse1.panel-collapse.collapse
                                  .panel-body
                                      .form-group
                                          label.control-label(for='distributed_system') Distributed System
                                          select#distributed_system.form-control(name='distributed_system')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='response_time') Response time or throughput performance objectives
                                          select#response_time.form-control(name='response_time')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='end_user_efficiency') End user efficiency
                                          select#end_user_efficiency.form-control(name='end_user_efficiency')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='complex_internal_processing') Complex internal processing
                                          select#complex_internal_processing.form-control(name='complex_internal_processing')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='code_must_be_reusable') Code must be reusable
                                          select#code_must_be_reusable.form-control(name='code_must_be_reusable')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='easy_to_install') Easy to install
                                          select#easy_to_install.form-control(name='easy_to_install')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='easy_to_use') Easy to use
                                          select#easy_to_use.form-control(name='easy_to_use')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='portable') Portable
                                          select#portable.form-control(name='portable')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='easy_to_change') Easy to change
                                          select#easy_to_change.form-control(name='easy_to_change')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='concurrent') Concurrent
                                          select#concurrent.form-control(name='concurrent')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='includes_special_security_objectives') Includes special security objectives
                                          select#includes_special_security_objectives.form-control(name='includes_special_security_objectives')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='provides_direct_access_for_third_parties') Provides direct access for third parties
                                          select#provides_direct_access_for_third_parties.form-control(name='provides_direct_access_for_third_parties')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='special_user_training_facilities_are_required') Special user training facilities are required
                                          select#special_user_training_facilities_are_required.form-control(name='special_user_training_facilities_are_required')
                                              option 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5     
                    #sec-2
                      .panel-group
                          .panel.panel-default
                              .panel-heading
                                  h4.panel-title
                                      div.panel_words Environmental Factors
                                      div.panel_triangle_toggle
                                          a(data-toggle='collapse', href='#collapse2')
                                              //span.if-collapsed.glyphicon.glyphicon-triangle-bottom.collapseButtom
                                              span.glyphicon.glyphicon-triangle-left.collapseButtom2
                              #collapse2.panel-collapse.collapse
                                  .panel-body
                                      .form-group
                                          label.control-label(for='familiar_with_the_project_model_that_is_used') Familiar with the project model that is used
                                          select#familiar_with_the_project_model_that_is_used.form-control(name='familiar_with_the_project_model_that_is_used')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='application_experience') Application experience
                                          select#application_experience.form-control(name='application_experience')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='object_oriented_experience') Object-oriented experience
                                          select#object_oriented_experience.form-control(name='object_oriented_experience')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='lead_analyst_capability') Lead analyst capability
                                          select#lead_analyst_capability.form-control(name='lead_analyst_capability')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='motivation') Motivation
                                          select#motivation.form-control(name='motivation')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='stable_requirements') Stable requirements
                                          select#stable_requirements.form-control(name='stable_requirements')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='part_time_staff') Part-time staff
                                          select#part_time_staff.form-control(name='part_time_staff')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                                      .form-group
                                          label.control-label(for='difficult_programming_language') Difficult programming language
                                          select#difficult_programming_language.form-control(name='difficult_programming_language')
                                              option(selected) 1
                                              option 2
                                              option 3
                                              option 4
                                              option 5
                    #sec-3
                    #sec-5
                  .modal-footer
                    button.btn.btn-primary.silver(type='button', data-dismiss='modal') Close
            // Submit button
            div
                button.btn.btn-dark.btn-submit.btn-lg(type='submit' style = "padding: 16px 31px") Submit
        #sec-5
          #collapse0.panel-collapse
            div(id="estimation-result-panel-body" style = "text-align : center; font-size: 14px") Upload UML diagrams, KDM models, APKs to get effort estimates of your project
        #loadingScreen.hidden
                div.full-page-model
                div.full-page-model-content
                    div(style='padding: 30px')
                        img(id='model-query-progressing' src='img/progress-bar.gif' style='width:100px')
                        p Processing...
      //div.tab-pane.fade(id="repo_estimation")
        include estimationPanel
      div.tab-pane.fade(id="repo_trending")
        if repoInfo
          div.col-sm-12.scatter-plot-row(id="trending-line" data="./#{repoInfo.AccessDir}/modelVersionInfo.csv")
          div.col-sm-12.status-row
            div.col-sm-3
              div#project-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{totalRec}
                  span Projects
            div.col-sm-3
              div#usecase-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.UseCaseNum}
                  span Use Cases
            div.col-sm-3
              div#transaction-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1")
                .col-sm-8.text-box
                  h2 #{repoInfo.NT}
                  span Transactions
            div.col-sm-3 
              div#class-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.EntityNum}
                  span Classes
          div.col-sm-12.status-row
            div.col-sm-3
              div#sloc-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.SLOC}
                  span SLOC
            div.col-sm-3
              div#schedule-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.schedule}
                  span Schedule
            div.col-sm-3
              div#personnel-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.personnel}
                  span Personnel
            div.col-sm-3 
              div#eucp-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.EUCP}
                  span Eucp
          div.col-sm-12.status-row
            div.col-sm-3
              div#exucp-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.EXUCP}
                  span EXUCP
            div.col-sm-3
              div#ducp-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.DUCP}
                  span DUCP
            div.col-sm-3
              div#effort-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.effort}
                  span Effort
            div.col-sm-3
              div#estimate-card.analytics-card
                .col-sm-4.image-box
                  img(src="img/project.png", alt="")
                  img(src="img/check.png", name="checkImg", style="heigth:25px;width:25px;opacity:1;display:none")
                .col-sm-8.text-box
                  h2 #{repoInfo.estimatedEffort}
                  span Estimated Effort 
      div.tab-pane.fade(id="project_list")
        .container
          h3.row
            .col-sm-2 Index
            .col-sm-8 Project Name
            .col-sm-2 Date
          .list-group
            - var pageIndex = (currentPage - 1)*(pageSize) + 1
            div(id='page-panel')
              each item in repoInfo.Models
                a.list-group-item.row.model-title(href="queryModelInfo?model_id=" + item._id)
                  .col-sm-2 #{pageIndex++}
                  .col-sm-8 #{item.Name}
                  .col-sm-2 #{item.creationTime}
              include pagination.jade
      div.tab-pane.fade(id="repo_archive")
          p #{repoInfo.OutputDir}
        div#displayRepoArchive